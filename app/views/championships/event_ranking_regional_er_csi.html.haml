.row-fluid#event_ranking_regional_er_csi
  .goggles-category-gap#pageTop
    = render( partial: 'regional_er_csi_tabs' )
    = render( partial: 'title' )

    %ul.offset10.span2.nav.nav-tab.nav-stacked.navbar-fixed-bottom.goggles-divlist-odd
      %li
        %a(href="#pageTop")= I18n.t(:top_of_page)
      - GenderType.individual_only.sort_by_courtesy.each do |gender_type|
        %li
          %a(href="\##{gender_type.code}")= gender_type.i18n_description 
        - @category_types.each do |category_type|
          %li
            %a(href="\##{gender_type.code}-#{category_type.code}")= "- #{category_type.get_full_name}"
  
    .span10
      - @season_ranking.each do |gender|
        .row-fluid.goggles-category-gap{'id'=>"#{gender[:gender_type].code}"}
          .h3
            = gender[:gender_type].i18n_description
            %a{ href: "#pageTop", 'data-toggle'=>'tooltip', 'title'=>I18n.t('top_of_page') }= image_tag('bullet_arrow_up.png')
        - gender[:categories].each do |category|
          .row-fluid.goggles-category-gap{'id'=>"#{gender[:gender_type].code}-#{category[:category_type].code}"}
            .h3
              = gender[:gender_type].i18n_description + ' ' + category[:category_type].get_full_name
              %a{ href: "#pageTop", 'data-toggle'=>'tooltip', 'title'=>I18n.t('top_of_page') }= image_tag('bullet_arrow_up.png')
              
              - category[:events].each do |event|
                %table.table.table-striped.table-bordered.table-hover.table-condensed
                  %tbody
                    %tr{'class'=>'info'}
                      %td{ colspan: 6 }
                        %b
                          = event[:event_type].i18n_description
                          %a{ href: "#pageTop", 'data-toggle'=>'tooltip', 'title'=>I18n.t('top_of_page') }= image_tag('bullet_arrow_up.png')
                    - event[:mirs].each_with_index do |mir, counter|
                      - is_highlighted = (@team && @team.id == mir.team_id)
                      %tr{ 'class' => is_highlighted ? 'warning' : '' }
                        %td.goggles-rightalign.span1= counter + 1
                        %td.span3= mir.swimmer.decorate.get_linked_swimmer_name
                        %td.goggles-rightalign.span1= mir.swimmer.year_of_birth
                        %td.goggles-rightalign.span1= mir.get_timing
                        %td.span3= mir.team.decorate.get_linked_name
                        %td.goggles-rightalign.span1

.row-fluid.goggles-category-gap
