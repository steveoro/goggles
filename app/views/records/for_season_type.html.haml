.accordion#accordionFlt#pageTop
  .accordion-group
    .accordion-heading
      %a.accordion-toggle{'data-toggle' => 'collapse', 'data-parent' => '#accordionFlt', :href => '#collapseFlt'}
        %h3#headerFlt{'data-toggle' => 'tooltip', 'title' => I18n.t('records.filtering_tooltip')}
          = I18n.t('records.season_type_search_title')
        %script
          $('#headerFlt').tooltip({placement:'bottom'});
          function resetFields() { $('#season_type_season_type_id').val(''); $('#year').val(''); }

    .accordion-body.collapse.in#collapseFlt
      .accordion-inner
        = form_tag( :records_for_season_type, :remote => true, :class => 'form-horizontal', :onsubmit => "$('#loadingIndicator').show();") do
          .row-fluid
            .control-group
              = label_tag( :season_type_id, I18n.t(:season_type, { scope: [:activerecord, :models] }), :for => :season_type, :class => 'control-label' )
              .controls
                = select( :season_type, :season_type_id, SeasonType.to_dropdown(), { :prompt => I18n.t(:please_select) }, { :class => 'input-xlarge' } )
          .row-fluid
            .control-group
              = label_tag( :year, I18n.t('meeting_calendar.year'), :for => :year, :class => 'control-label' )
              .controls
                = text_field_tag( :year, nil, :class=>'input-mini', :autocomplete => 'off', 'data-provide' => 'typeahead', 'data-source'=>(2000 .. Date.today.year+1).to_a.collect{|e|e.to_s}.to_s, :placeholder=>Date.today.year )
              %script
                $('.typeahead').typeahead();
          .row-fluid
            .control-group
              .controls
                = link_to_function( I18n.t(:reset), "resetFields();", :class => 'btn' )
                = submit_tag( I18n.t(:submit), :data => {:disable_with => I18n.t(:please_wait), :class => 'btn disabled'}, :class => 'btn' )
                %span(id='loadingIndicator' hidden='true')
                  = image_tag( 'indicator.gif' )

#records_4x_grid
