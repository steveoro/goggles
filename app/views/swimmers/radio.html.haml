%ul.nav.nav-tabs#topOfPage
  %li.active#firstTab
    = link_to( t('radiography.radio_tab'), '#' )
  %li
    = link_to( t('radiography.medals_tab'), medals_swimmer_path(:id=>@swimmer.id) )
  %li
    = link_to( t('radiography.best_timings_tab'), best_timings_swimmer_path(:id=>@swimmer.id) )
  %li
    = link_to( t('radiography.all_races_tab'), all_races_swimmer_path(:id=>@swimmer.id) )
  %li
    = link_to( t('radiography.misc'), misc_swimmer_path(:id=>@swimmer.id) )

.container-fluid
  .row-fluid.span12.alert.alert-success.goggles-div-centeralign
    - tab_title = I18n.t('radiography.radio_tab_title').gsub('{SWIMMER_NAME}', @swimmer.get_full_name)
    %h4
      = I18n.t('radiography.radio_tab') + ' -- '
      = tab_title
  .row-fluid
    .span9
      .row-fluid
        .span3
          = I18n.t(:name) +':'
        .span7
          = @swimmer.get_full_name_with_nickname
      .row-fluid
        .span3
          = I18n.t('swimmers.affiliated_in_teams') +':'
        .span7
          = @swimmer.get_team_names
      .row-fluid
        .span3
          = I18n.t('swimmers.year_of_birth') +':'
        .span7
          = @swimmer.year_of_birth
      .row-fluid
        .span3
          = I18n.t('swimmers.current_category') +':'
        .span7
          = @swimmer.get_current_category_type_codes.join(' / ')
      .row-fluid
        .span3
          = I18n.t('swimmers.last_registered_category') +':'
        .span7
          - category = @swimmer.get_current_category_type_from_badges
          = category ? category.code : '?'
      .row-fluid
        .span3
          = I18n.t('swimmers.meeting_presence') +':'
        .span7
          = @swimmer.meetings.uniq.count
      .row-fluid
        .span3
          = I18n.t('swimmers.events_attended') +':'
        .span7
          = @swimmer.meeting_individual_results.count
      .row-fluid
        .span3
          = I18n.t('swimmers.total_metres_swam') +':'
        .span7
          = 'TODO'
      .row-fluid
        .span3
          = I18n.t('swimmers.total_time_swam') +':'
        .span7
          = 'TODO'
      .row-fluid
        .span3
          = I18n.t('swimmers.first_attended_meeting') +':'
        .span7
          = 'TODO'
      .row-fluid
        .span3
          = I18n.t('swimmers.last_attended_meeting') +':'
        .span7
          = 'TODO'
      .row-fluid
        .span3
          = I18n.t('swimmers.best_score_ever') +':'
        .span7
          - mir = @swimmer.meeting_individual_results.is_valid.where('standard_points > 0').order(:standard_points).last
          - if mir
            %p= "#{mir.standard_points}, " + mir.meeting.get_verbose_name
      .row-fluid
        .span3
          = I18n.t('swimmers.worst_score_ever') +':'
        .span7
          - mir = @swimmer.meeting_individual_results.is_valid.where('standard_points > 0').order(:standard_points).first
          - if mir
            %p= "#{mir.standard_points}, " + mir.meeting.get_verbose_name
      .row-fluid
        .span3
          = I18n.t('swimmers.total_team_records') +':'
        .span7
          = 'TODO'
      .row-fluid
        .span3
          = I18n.t('swimmers.total_disqualifications') +':'
        .span7
          = 'TODO'
    .span3
      = image_tag( 'img_radiography.jpg' ) 

%script
  $('#firstTab').addClass('active');
