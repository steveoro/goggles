= render( partial: 'tabs_and_title' )
- cache( cache_key_for_swimmer( 'radio', @swimmer.id, @max_updated_at ) ) do
  .row.col-xs-12
    .col-xs-9
      .row
        .col-xs-3
          = I18n.t(:name) +':'
        .col-xs-5
          %b= @swimmer.get_full_name_with_nickname
        .col-xs-4
          = social_confirm_badge( @swimmer )
          = social_invite_badge( @swimmer )
          = social_block_badge( @swimmer )
          = social_remove_badge( @swimmer )
          = social_edit_badge( @swimmer )
      .row.goggles-category-gap
        .col-xs-3
          = I18n.t('swimmers.year_of_birth') +':'
        .col-xs-9
          = @swimmer.year_of_birth
      .row
        .col-xs-3
          = I18n.t('swimmers.current_category') +':'
        .col-xs-9
          = @swimmer.get_current_category_type_codes.join(' / ')
          = ' ('
          = I18n.t('swimmers.last_registered_category') +':'
          - category = @swimmer.get_current_category_type_from_badges
          = category ? category.code : '?'
          = ')'
      .row.goggles-category-gap
        .col-xs-3
          = I18n.t('swimmers.affiliated_in_teams') +':'
        .col-xs-9
          = @swimmer.get_linked_current_team_names.html_safe
      .row.goggles-category-gap
        .col-xs-3
          = I18n.t('swimmers.meeting_presence') +':'
        .col-xs-9
          = count_with_award_star( @ssd.get_meetings_count )
      .row
        .col-xs-3
          = I18n.t('swimmers.events_attended') +':'
        .col-xs-9
          = count_with_small_star( @ssd.get_individual_results_count + @swimmer.meeting_relay_swimmers.count )
      .row
        .col-xs-3
          = I18n.t('swimmers.total_metres_swam') +':'
        .col-xs-9
          = count_with_star( @ssd.get_meters_swam )
      .row
        .col-xs-3
          = I18n.t('swimmers.total_time_swam') +':'
        .col-xs-9
          = @ssd.get_time_swam.to_s
      .row
        .col-xs-3
          = I18n.t('swimmers.ironmaster') +':'
        .col-xs-9
          = count_with_award_star(@ssd.get_iron_masters_count, 1)
      .row
        .col-xs-3
          = I18n.t('swimmers.total_fin_points') +':'
        .col-xs-9
          = count_with_small_star(@ssd.get_tot_fin_points, 50000)

      .row.goggles-category-gap
        .col-xs-3
          = I18n.t('swimmers.first_attended_meeting') +':'
        .col-xs-9
          - m = @ssd.get_first_meeting
          - if m
            %a{ href: "#{ meeting_show_swimmer_results_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_swimmer_results_tooltip') + "\r\n(#{@swimmer_name} @ #{m.get_full_name})" }
              = m.get_meeting_date
            = ', '
            %a{ href: "#{ meeting_show_full_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_results_tooltip') + "\r\n(#{m.get_full_name})" }
              = "#{m.get_full_name} (#{m.get_season_type})"
      .row
        .col-xs-3
          = I18n.t('swimmers.last_attended_meeting') +':'
        .col-xs-9
          - m = @ssd.get_last_meeting
          - if m
            %a{ href: "#{ meeting_show_swimmer_results_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_swimmer_results_tooltip') + "\r\n(#{@swimmer_name} @ #{m.get_full_name})" }
              = m.get_meeting_date
            = ', '
            %a{ href: "#{ meeting_show_full_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_results_tooltip') + "\r\n(#{m.get_full_name})" }
              = "#{m.get_full_name} (#{m.get_season_type})"
      .row
        .col-xs-3
          = I18n.t('swimmers.total_disqualifications') +':'
        .col-xs-9
          - dsq_count = @ssd.get_disqualifications
          - if dsq_count > 0
            = count_with_bomb( dsq_count )
          - else
            = I18n.t('swimmers.no_disqualifications')

      .row.goggles-category-gap
        .col-xs-3
          = I18n.t('swimmers.best_score_ever') +':'
        .col-xs-9
          - m = @ssd.get_best_fin
          - if m
            = format_score( m.get_std_points ) + ', '
            %a{ href: "#{ meeting_show_swimmer_results_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_swimmer_results_tooltip') + "\r\n(#{@swimmer_name} @ #{m.get_full_name})" }
              = m.get_meeting_date
            = ', '
            %a{ href: "#{ meeting_show_full_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_results_tooltip') + "\r\n(#{m.get_full_name})" }
              = "#{m.get_full_name} (#{m.get_season_type})"
            = ' - '
            = m.get_event_type
      .row
        .col-xs-3
          = I18n.t('swimmers.worst_score_ever') +':'
        .col-xs-9
          - m = @ssd.get_worst_fin
          - if m
            = format_score( m.get_std_points ) + ', '
            %a{ href: "#{ meeting_show_swimmer_results_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_swimmer_results_tooltip') + "\r\n(#{@swimmer_name} @ #{m.get_full_name})" }
              = m.get_meeting_date
            = ', '
            %a{ href: "#{ meeting_show_full_path(:id=>m.id, :swimmer_id=>@swimmer.id) }", 'data-toggle' => 'tooltip', title: I18n.t('meeting.show_results_tooltip') + "\r\n(#{m.get_full_name})" }
              = "#{m.get_full_name} (#{m.get_season_type})"
            = ' - '
            = m.get_event_type

      .row.goggles-category-gap
        .col-xs-3
          = I18n.t('swimmers.all_teams') +':'
        .col-xs-9
          = @ssd.get_linked_team_names.html_safe

    .col-xs-3
      .text-center
        - if ( @swimmer.associated_user == current_user )
          = link_to( image_tag(avatar_url(@swimmer), class: "img-thumbnail"), "http://#{I18n.locale}.gravatar.com/", 'data-toggle' => 'tooltip', title: I18n.t('radiography.link_to_gravatar_tooltip') )
        -else
          = image_tag( avatar_url(@swimmer), class: "img-thumbnail" )
      .col-xs-12
        &nbsp;
      .text-center
        = link_to( "#{t('radiography.all_races_tab')}<br/>#{@swimmer_name}".html_safe, search_meetings_path( s: @swimmer.id ), {class: "btn btn-default"} )

  -#= render( partial: 'records' )
  -# TODO Give some plus rendering some achievements!

  .col-xs-12
    &nbsp;
