%ul.nav.nav-tabs#topOfPage
  %li
    = link_to( t('radiography.radio_tab'), swimmer_radio_path(id: @swimmer.id) )
  %li
    = link_to( t('radiography.medals_tab'), swimmer_medals_path(id: @swimmer.id) )
  %li
    = link_to( t('radiography.best_timings_tab'), swimmer_best_timings_path(id: @swimmer.id) )
  %li.active
    = link_to( t('radiography.misc_tab'), '#' )

.container-fluid
  .row-fluid.alert.alert-success.goggles-div-centeralign
    %h4
      = I18n.t('radiography.misc_tab') + ' -- '
      = I18n.t('radiography.radio_tab_title').gsub('{SWIMMER_NAME}', @swimmer.get_full_name)
  .row-fluid
    %h3= "#{t('radiography.compute_fin_score_for')} #{@swimmer.get_full_name}"
    %h4= "#{@current_season.get_full_name}"
    %h4= I18n.t('activerecord.models.gender_type') + ": #{@swimmer_gender.i18n_description}"
    %h4= I18n.t('activerecord.models.category_type') + ": #{@swimmer_category.get_short_name}"

  .row-fluid
    = form_tag( :swimmer_misc, class: 'form-horizontal', :onsubmit => "$('#loadingIndicator').show(); ") do
      .row-fluid
        .control-group
          = label_tag( :pool_type, I18n.t('activerecord.models.pool_type'), :for => :pool_type, class: 'control-label' )
          .controls
            = select( :pool_type, :id, PoolType.only_for_meetings.to_dropdown(), { :prompt => I18n.t(:please_select) }, { class: 'input-small' } )
        .control-group
          = label_tag( :event_type, I18n.t('activerecord.models.event_type'), :for => :event_type, class: 'control-label' )
          .controls
            = select( :event_type, :id, EventType.are_not_relays.to_dropdown(), { :prompt => I18n.t(:please_select) }, { class: 'input-small' } )
      .row-fluid
        .control-group
          = label_tag( :timing, t('radiography.timing'), :for => :timing, class: 'control-label' )
          .controls
            = text_field_tag( :minutes, 0, class: 'input-mini' )
            = text_field_tag( :seconds, 0, class: 'input-mini' )
            = text_field_tag( :hundreds, 0, class: 'input-mini' )
      .row-fluid
        .control-group
          .controls
            = submit_tag( I18n.t('radiography.compute'), :data => {:disable_with => I18n.t(:please_wait), class: 'btn disabled'}, class: 'btn' )
            %span(id='loadingIndicator' hidden='true')
              = image_tag( 'indicator.gif' )
  - if @standard_points.to_i >= 0
    .row-fluid.alert.alert-success.goggles-div-centeralign
      %h4= 'FIN Standard points calculation for ' + "#{@current_event.i18n_description} - #{@current_pool.i18n_description}: "
    .row-fluid
      %h4= 'FIN standard points: ' + "#{@standard_points}"
      %p= 'Base time: ' + "#{@current_time_standard.get_timing_instance.to_s}"
      %p= 'World record: '
      %p= 'Team record: '
      %p= @swimmer.get_full_name + ' personal best: '
      %p= @swimmer.get_full_name + ' seasonal best: '
  - else
    .row-fluid
      = "Select pool type and event and fill in the timing fields, than press calculate button to know the standard FIN points"

