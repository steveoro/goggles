%h3= t('meeting_reservation.show_event_list_title')
%table.table.table-striped.table-bordered.table-hover.table-condensed
  %tbody
    = render( partial: 'header_row', locals: { meeting: @meeting, filter: :are_not_relays, add_notes_column: false, suppress_sessions: false } )
    -# Event Data rows:
    - event_res_count = 0
    - @mrsdao.reservations.values.each do |swimmer|
      %tr
        %td{ colspan: 2, class: 'info', id: "goggles-border-rx-thick" }
          %a{'id'=>"swimmer#{swimmer.swimmer_id}", 'href'=>"#{ swimmer_radio_path(id: swimmer.swimmer_id) }", 'data-toggle'=>'tooltip', 'title'=>I18n.t('radiography.radio_tab_tooltip')}
            %b= swimmer.swimmer_name
          &nbsp;
          %small
            %i
              = I18n.t('meeting_reservation.add_maybe') if !swimmer.has_confirmed
        - @msdao.get_session_keys.each do |session_key|
          - mss = @msdao.get_session( session_key )
          - num = 0
          - mss.get_event_keys.each do |event_key|
            - msse = mss.get_event( event_key )
            - if !msse.is_a_relay
              - num += 1
              %td.goggles-rightalign{ class: (msse.is_out_of_race ? "warning" : nil ), id: (num == mss.individuals ? "goggles-border-rx-thick" : nil) }
                - sir = swimmer.get_individual_reservation(msse.event_code)
                - if sir
                  - event_res_count += 1
                  = sir.get_timing
    = render( partial: 'header_row', locals: { meeting: @meeting, filter: :are_not_relays, add_notes_column: false, suppress_sessions: true } )
    %tr.success
      %td
        %b= t('meeting_stats.swimmers')
      %td.goggles-rightalign
        %b= @mrsdao.reservations.size
    %tr.success
      %td
        %b= t('meeting_stats.tot_athletes_by_event')
      %td.goggles-rightalign
        %b= event_res_count
