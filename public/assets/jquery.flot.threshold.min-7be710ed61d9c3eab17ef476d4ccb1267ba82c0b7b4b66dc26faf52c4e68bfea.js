!function(t){function e(e){function i(e,i,n,r,s){var a,o,l,h,c,u=n.pointsize,d=t.extend({},i);d.datapoints={points:[],pointsize:u,format:n.format},d.label=null,d.color=s,d.threshold=null,d.originSeries=i,d.data=[];var p,f=n.points,g=i.lines.show,m=[],v=[];for(a=0;a<f.length;a+=u){if(o=f[a],l=f[a+1],c=h,h=l<r?m:v,g&&c!=h&&null!=o&&a>0&&null!=f[a-u]){var b=o+(r-l)*(o-f[a-u])/(l-f[a-u+1]);for(c.push(b),c.push(r),p=2;p<u;++p)c.push(f[a+p]);for(h.push(null),h.push(null),p=2;p<u;++p)h.push(f[a+p]);for(h.push(b),h.push(r),p=2;p<u;++p)h.push(f[a+p])}for(h.push(o),h.push(l),p=2;p<u;++p)h.push(f[a+p])}if(n.points=v,d.datapoints.points=m,d.datapoints.points.length>0){var y=t.inArray(i,e.getData());e.getData().splice(y+1,0,d)}}function n(e,n,r){n.threshold&&(n.threshold instanceof Array?(n.threshold.sort(function(t,e){return t.below-e.below}),t(n.threshold).each(function(t,s){i(e,n,r,s.below,s.color)})):i(e,n,r,n.threshold.below,n.threshold.color))}e.hooks.processDatapoints.push(n)}var i={series:{threshold:null}};t.plot.plugins.push({init:e,options:i,name:"threshold",version:"1.2"})}(jQuery);