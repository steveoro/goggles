!function(t){function e(t,e){return e*Math.floor(t/e)}function i(t,e,i,n){if("function"==typeof t.strftime)return t.strftime(e);var r=function(t,e){return t=""+t,e=""+(null==e?"0":e),1==t.length?e+t:t},s=[],a=!1,o=t.getHours(),l=o<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var h;h=o>12?o-12:0==o?12:o;for(var c=0;c<e.length;++c){var u=e.charAt(c);if(a){switch(u){case"a":u=""+n[t.getDay()];break;case"b":u=""+i[t.getMonth()];break;case"d":u=r(t.getDate());break;case"e":u=r(t.getDate()," ");break;case"h":case"H":u=r(o);break;case"I":u=r(h);break;case"l":u=r(h," ");break;case"m":u=r(t.getMonth()+1);break;case"M":u=r(t.getMinutes());break;case"q":u=""+(Math.floor(t.getMonth()/3)+1);break;case"S":u=r(t.getSeconds());break;case"y":u=r(t.getFullYear()%100);break;case"Y":u=""+t.getFullYear();break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"w":u=""+t.getDay()}s.push(u),a=!1}else"%"==u?a=!0:s.push(u)}return s.join("")}function n(t){function e(t,e,i,n){t[e]=function(){return i[n].apply(i,arguments)}}var i={date:t};void 0!=t.strftime&&e(i,"strftime",t,"strftime"),e(i,"getTime",t,"getTime"),e(i,"setTime",t,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<n.length;r++)e(i,"get"+n[r],t,"getUTC"+n[r]),e(i,"set"+n[r],t,"setUTC"+n[r]);return i}function r(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(e.timezone),i.setTime(t),i}return n(new Date(t))}return n(new Date(t))}function s(n){n.hooks.processOptions.push(function(n){t.each(n.getAxes(),function(t,n){var s=n.options;"time"==s.mode&&(n.tickGenerator=function(t){var i=[],n=r(t.min,s),a=0,l=s.tickSize&&"quarter"===s.tickSize[1]||s.minTickSize&&"quarter"===s.minTickSize[1]?c:h;null!=s.minTickSize&&(a="number"==typeof s.tickSize?s.tickSize:s.minTickSize[0]*o[s.minTickSize[1]]);for(var u=0;u<l.length-1&&!(t.delta<(l[u][0]*o[l[u][1]]+l[u+1][0]*o[l[u+1][1]])/2&&l[u][0]*o[l[u][1]]>=a);++u);var d=l[u][0],p=l[u][1];if("year"==p){if(null!=s.minTickSize&&"year"==s.minTickSize[1])d=Math.floor(s.minTickSize[0]);else{var f=Math.pow(10,Math.floor(Math.log(t.delta/o.year)/Math.LN10)),g=t.delta/o.year/f;d=g<1.5?1:g<3?2:g<7.5?5:10,d*=f}d<1&&(d=1)}t.tickSize=s.tickSize||[d,p];var m=t.tickSize[0];p=t.tickSize[1];var v=m*o[p];"second"==p?n.setSeconds(e(n.getSeconds(),m)):"minute"==p?n.setMinutes(e(n.getMinutes(),m)):"hour"==p?n.setHours(e(n.getHours(),m)):"month"==p?n.setMonth(e(n.getMonth(),m)):"quarter"==p?n.setMonth(3*e(n.getMonth()/3,m)):"year"==p&&n.setFullYear(e(n.getFullYear(),m)),n.setMilliseconds(0),v>=o.minute&&n.setSeconds(0),v>=o.hour&&n.setMinutes(0),v>=o.day&&n.setHours(0),v>=4*o.day&&n.setDate(1),v>=2*o.month&&n.setMonth(e(n.getMonth(),3)),v>=2*o.quarter&&n.setMonth(e(n.getMonth(),6)),v>=o.year&&n.setMonth(0);var b,y=0,_=Number.NaN;do if(b=_,_=n.getTime(),i.push(_),"month"==p||"quarter"==p)if(m<1){n.setDate(1);var x=n.getTime();n.setMonth(n.getMonth()+("quarter"==p?3:1));var w=n.getTime();n.setTime(_+y*o.hour+(w-x)*m),y=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+m*("quarter"==p?3:1));else"year"==p?n.setFullYear(n.getFullYear()+m):n.setTime(_+v);while(_<t.max&&_!=b);return i},n.tickFormatter=function(t,e){var n=r(t,e.options);if(null!=s.timeformat)return i(n,s.timeformat,s.monthNames,s.dayNames);var a,l=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],h=e.tickSize[0]*o[e.tickSize[1]],c=e.max-e.min,u=s.twelveHourClock?" %p":"",d=s.twelveHourClock?"%I":"%H";a=h<o.minute?d+":%M:%S"+u:h<o.day?c<2*o.day?d+":%M"+u:"%b %d "+d+":%M"+u:h<o.month?"%b %d":l&&h<o.quarter||!l&&h<o.year?c<o.year?"%b":"%b %Y":l&&h<o.year?c<o.year?"Q%q":"Q%q %Y":"%Y";var p=i(n,a,s.monthNames,s.dayNames);return p})})})}var a={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},o={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],h=l.concat([[3,"month"],[6,"month"],[1,"year"]]),c=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:s,options:a,name:"time",version:"1.0"}),t.plot.formatDate=i,t.plot.dateGenerator=r}(jQuery);