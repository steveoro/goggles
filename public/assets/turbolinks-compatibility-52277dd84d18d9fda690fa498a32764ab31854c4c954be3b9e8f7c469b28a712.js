(function(){var t,e,i,n,s;t=Turbolinks.defer,e=Turbolinks.dispatch,i=function(t,e){return document.addEventListener(t,e,!1)},s=function(t){var n,s,r;return n=t.from,r=t.to,s=function(t){if(t=e(r,{target:t.target,cancelable:t.cancelable,data:t.data}),t.defaultPrevented)return t.preventDefault()},i(n,s)},s({from:"turbolinks:click",to:"page:before-change"}),s({from:"turbolinks:request-start",to:"page:fetch"}),s({from:"turbolinks:request-end",to:"page:receive"}),s({from:"turbolinks:before-cache",to:"page:before-unload"}),s({from:"turbolinks:render",to:"page:update"}),s({from:"turbolinks:load",to:"page:change"}),s({from:"turbolinks:load",to:"page:update"}),n=!1,i("DOMContentLoaded",function(){return t(function(){return n=!0})}),i("turbolinks:load",function(){if(n)return e("page:load")}),"function"==typeof jQuery&&jQuery(document).on("ajaxSuccess",function(t,i){if(jQuery.trim(i.responseText).length>0)return e("page:update")})}).call(this);